<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0"><meta content="telephone=no" name="format-detection"><title>vue快速搭建</title><link rel="stylesheet" href="../static/css/reset.css"><link rel="stylesheet" href="../static/css/style.css"><link rel="stylesheet" href="../static/css/animate.min.css"><script src="../static/js/sea.js"></script><script src="../static/js/sea_config.js"></script><script>function rem(){var e=document.documentElement.clientWidth,t=document.documentElement;1024<e&&(e=1024,t.style.maxWidth="1024px",t.style.margin="0 auto"),t.style.fontSize=e/7.5+"px"}rem(),window.addEventListener("resize",function(){rem()},!1)</script></head><body><style>#app{font-size:.24rem}ul li{list-style-type:none}.hide{display:none}span{min-width:.5rem;display:inline-block;height:.3rem;line-height:.3rem}</style><div id="app"><div v-text="d"></div><div class="add" @click="add">添加</div><div class="remove">删除</div><tree :folder="list" :select="select" :clicks="clicks"></tree></div><script>seajs.use(["vue","jquery"],function(){Vue.component("tree",{name:"tree",template:'<ul ><li v-for = "item in folder" class="father"><span @blur = "select(item,$event)" @click="clicks(item,$event)"contenteditable="false"v-text="item.name"></span><tree class="son hide" v-if = "item.son" :folder = "item.son" :select = "select" :clicks="clicks"></tree></li></ul>',props:["folder","select","clicks"]}),window.vue1=new Vue({el:"#app",data:{d:"webpack",data:[],b:"",u:"",t:"",list:[{name:"岗位",son:[{name:"职位",son:[{name:"找开发和",son:[{name:"1235",son:[{name:"999",son:[{name:"45454"}]}]}]},{name:"找开发和"},{name:"找开发和"}]},{name:"职位"},{name:"职位"}]},{name:"岗位",son:[{name:"职位"}]},{name:"岗位",son:[{name:"职位"}]}]},mounted:function(){var e=this;this.$nextTick(function(){console.log(e.list,vue1.u)})},methods:{select:function(e,n){console.log(e.name,n.srcElement.innerText,n),e.name=n.srcElement.innerText},clicks:function(e,n){console.log(e),this.lists=e,this.t=n.srcElement},add:function(){var n=this;if(null==n.lists.son){n.t;Vue.set(n.lists,"son",[{name:""}])}else n.lists.son.push({name:""});setTimeout(function(){$(n.t).next(".son").removeClass("hide");var e=$(n.t).next(".son").find("span").length;$(n.t).next(".son").find("span").eq(e-1).attr("contenteditable","true"),$(n.t).next(".son").find("span").eq(e-1).focus()},100)}},updated:function(){this.$nextTick(function(){})}}),$(document).on("click",".father span,.son",function(){$(this).index();$(this).css("color","red").siblings().find("span").css("color","#000").parents(".father").siblings().find("span").css("color","#000"),$(this).parents("ul").siblings("span").css("color","#000"),$(this).parents("li").siblings().find("span").css("color","#000"),console.log(),"false"==$(this).attr("contenteditable")?($(this).siblings().toggleClass("hide"),$(this).parents(".father").siblings().find(".son").addClass("hide"),$(this).siblings().find("span").attr("contenteditable","false"),$(this).parents("ul").siblings("span").attr("contenteditable","false"),$(this).parents(".father").siblings().find("span").attr("contenteditable","false")):$(this).css("color","#000"),$(this).blur(function(){$(this).attr("contenteditable","false"),$(this).css("color","red")})}),$(document).on("dblclick",".father span,.son span",function(){$(this).attr("contenteditable","true")})})</script><script type="text/javascript" src="../js/common754554c1.js?"></script></body></html>